(function($){"use strict";google.load("visualization","1",{packages:["corechart","geochart","bar"]});google.setOnLoadCallback(wpcampus_draw_affiliation_chart);function wpcampus_draw_affiliation_chart(){$.get("http://wpcampus.org/wp-json/wordcampus/data/set/affiliation",function($wpcampus_data){var $data=google.visualization.arrayToDataTable([["Task","Affiliation"],["I work at a higher ed institution",parseInt($wpcampus_data.work_in_higher_ed)],["I freelance or work for a company that supports higher ed",parseInt($wpcampus_data.work_for_company)],["I work outside higher ed but am interested",parseInt($wpcampus_data.work_outside_higher_ed)]]);var $options={title:"Affiliation",pieHole:.4};var $chart=new google.visualization.PieChart(document.getElementById("wpcampus-chart-affiliation"));$chart.draw($data,$options)})}google.setOnLoadCallback(wpcampus_draw_attend_pref_chart);function wpcampus_draw_attend_pref_chart(){$.get("http://wpcampus.org/wp-json/wordcampus/data/set/attend-preference",function($wpcampus_data){var $data=google.visualization.arrayToDataTable([["Task","Attendance Preference"],["Attend in person",parseInt($wpcampus_data.attend_in_person)],["Attend via live stream",parseInt($wpcampus_data.attend_live_stream)]]);var $options={title:"Attendance Preference",pieHole:.4};var $chart=new google.visualization.PieChart(document.getElementById("wpcampus-chart-attend-pref"));$chart.draw($data,$options)})}google.setOnLoadCallback(wpcampus_draw_best_time_of_year_chart);function wpcampus_draw_best_time_of_year_chart(){$.get("http://wpcampus.org/wp-json/wordcampus/data/set/best-time-of-year",function($wpcampus_data){var $total=0;var $time_data=[["Best Time of Year","Percentage"]];$.each($wpcampus_data,function($index,$value){if("Total"==$index){$total=parseInt($value);return}$time_data.push([$index,parseInt($value)])});var $data=new google.visualization.arrayToDataTable($time_data);var $options={legend:{position:"none"},bars:"horizontal",axes:{x:{0:{side:"top",label:"Number of Votes (Out of "+$total+")"}}}};var $chart=new google.charts.Bar(document.getElementById("wpcampus-chart-best-time-of-year"));$chart.draw($data,$options)})}google.setOnLoadCallback(wpcampus_draw_regions_map);function wpcampus_draw_regions_map(){$.get("http://wpcampus.org/wp-json/wordcampus/data/set/attend-country",function($wpcampus_data){var $countries=[["Country","Interest"]];$.each($wpcampus_data,function($index,$value){$countries.push([$value.country,parseInt($value.count)])});var $data=google.visualization.arrayToDataTable($countries);var $options={colorAxis:{minValue:0,colors:["#ff9900","#3366cc"]}};var $chart=new google.visualization.GeoChart(document.getElementById("wpcampus-map-regions"));$chart.draw($data,$options)})}})(jQuery);